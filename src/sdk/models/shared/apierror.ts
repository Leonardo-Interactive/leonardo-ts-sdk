/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * Additional error details and context
 */
export type Extensions = {};

export type Locations = {
  column?: number | undefined;
  line?: number | undefined;
};

/**
 * API error response structure
 */
export type ApiError = {
  /**
   * Additional error details and context
   */
  extensions?: Extensions | undefined;
  /**
   * Location information for the error
   */
  locations?: Array<Locations> | undefined;
  /**
   * Error message
   */
  message: string;
  /**
   * Path to the field that caused the error
   */
  path?: Array<string> | undefined;
};

/** @internal */
export const Extensions$inboundSchema: z.ZodType<
  Extensions,
  z.ZodTypeDef,
  unknown
> = z.object({});

export function extensionsFromJSON(
  jsonString: string,
): SafeParseResult<Extensions, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Extensions$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Extensions' from JSON`,
  );
}

/** @internal */
export const Locations$inboundSchema: z.ZodType<
  Locations,
  z.ZodTypeDef,
  unknown
> = z.object({
  column: z.number().int().optional(),
  line: z.number().int().optional(),
});

export function locationsFromJSON(
  jsonString: string,
): SafeParseResult<Locations, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => Locations$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'Locations' from JSON`,
  );
}

/** @internal */
export const ApiError$inboundSchema: z.ZodType<
  ApiError,
  z.ZodTypeDef,
  unknown
> = z.object({
  extensions: z.lazy(() => Extensions$inboundSchema).optional(),
  locations: z.array(z.lazy(() => Locations$inboundSchema)).optional(),
  message: z.string(),
  path: z.array(z.string()).optional(),
});

export function apiErrorFromJSON(
  jsonString: string,
): SafeParseResult<ApiError, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ApiError$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ApiError' from JSON`,
  );
}
