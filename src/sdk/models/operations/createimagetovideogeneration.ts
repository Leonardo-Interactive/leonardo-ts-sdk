/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../../lib/primitives.js";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import * as shared from "../shared/index.js";

/**
 * Type indicating whether the end frame image is uploaded or generated.
 */
export enum String {
  Generated = "GENERATED",
  Uploaded = "UPLOADED",
}

/**
 * The end frame image. Supported only on kling2_1 model when used in conjunction with an init image.
 */
export type ObjectT = {
  /**
   * The ID of the end frame image.
   */
  id: string;
  /**
   * Type indicating whether the end frame image is uploaded or generated.
   */
  type: String;
};

/**
 * Type indicating whether the init image is uploaded or generated. Use only image or imageId with imageType.
 */
export enum ImageType {
  Generated = "GENERATED",
  Uploaded = "UPLOADED",
}

/**
 * The model to use for the video generation. Defaults to MOTION2 if not specified.
 */
export enum CreateImageToVideoGenerationString {
  Motion2 = "MOTION2",
  Veo3 = "VEO3",
  Motion2Fast = "MOTION2FAST",
  Veo3Fast = "VEO3FAST",
  Kling21 = "KLING2_1",
  Kling25 = "KLING2_5",
}

/**
 * The resolution of the output video. Acceptable values vary based on model
 */
export enum CreateImageToVideoGenerationMotionString {
  Resolution480 = "RESOLUTION_480",
  Resolution720 = "RESOLUTION_720",
  Resolution1080 = "RESOLUTION_1080",
}

/**
 * Query parameters can also be provided in the request body as a JSON object
 */
export type CreateImageToVideoGenerationRequestBody = {
  /**
   * Duration of the output video in seconds. Allowed values: 4, 6, or 8 on models VEO3 and VEO3FAST (default: 8) and 5 or 10 on model KLING2_5 (default: 5).
   */
  duration?: number | null | undefined;
  /**
   * An array of elements/loras objects that will be applied sequentially to the output. Elements are only supported for Motion2.0 generations.
   */
  elements?: Array<shared.ElementInput> | null | undefined;
  /**
   * The end frame image. Supported only on kling2_1 model when used in conjunction with an init image.
   */
  endFrameImage?: ObjectT | null | undefined;
  /**
   * Smoothly blend frames for fluid video transitions using Interpolation.
   */
  frameInterpolation?: boolean | null | undefined;
  /**
   * Height of the output video. Acceptable values vary based on model
   */
  height?: number | null | undefined;
  /**
   * The ID of the image, supports generated images and init images. Use only image or imageId with imageType.
   */
  imageId: string;
  /**
   * Type indicating whether the init image is uploaded or generated. Use only image or imageId with imageType.
   */
  imageType: ImageType;
  /**
   * Whether the generation is public or not
   */
  isPublic?: boolean | null | undefined;
  /**
   * The model to use for the video generation. Defaults to MOTION2 if not specified.
   */
  model?: CreateImageToVideoGenerationString | null | undefined;
  /**
   * The negative prompt used for the video generation.
   */
  negativePrompt?: string | null | undefined;
  /**
   * The prompt used to generate video
   */
  prompt: string;
  /**
   * Whether to enhance the prompt.
   */
  promptEnhance?: boolean | null | undefined;
  /**
   * A natural language instruction used to modify the main prompt. For example, 'make it cinematic', 'add a rainbow', or 'change the subject to a cat'.
   */
  promptEnhanceInstruction?: string | null | undefined;
  /**
   * The resolution of the output video. Acceptable values vary based on model
   */
  resolution?: CreateImageToVideoGenerationMotionString | null | undefined;
  /**
   * Apply a fixed seed to maintain consistency across generation sets. The maximum seed value is 2147483637 for Motion 2.0.
   */
  seed?: number | null | undefined;
  /**
   * Predefined styles to enhance the prompt. This accepts a list of style uuids.
   */
  styleIds?: Array<string> | null | undefined;
  /**
   * Width of the output video. Acceptable values vary based on model
   */
  width?: number | null | undefined;
};

export type MotionVideoGenerationOutput = {
  /**
   * API credits cost, available for Production API users.
   */
  apiCreditCost?: number | null | undefined;
  generationId?: string | undefined;
};

/**
 * Responses for POST /generations-image-to-video
 */
export type CreateImageToVideoGenerationResponseBody = {
  motionVideoGenerationJob?: MotionVideoGenerationOutput | null | undefined;
};

export type CreateImageToVideoGenerationResponse = {
  /**
   * HTTP response content type for this operation
   */
  contentType: string;
  /**
   * HTTP response status code for this operation
   */
  statusCode: number;
  /**
   * Raw HTTP response; suitable for custom response parsing
   */
  rawResponse: Response;
  /**
   * Responses for POST /generations-image-to-video
   */
  object?: CreateImageToVideoGenerationResponseBody | undefined;
};

/** @internal */
export const String$outboundSchema: z.ZodNativeEnum<typeof String> = z
  .nativeEnum(String);

/** @internal */
export type ObjectT$Outbound = {
  id: string;
  type: string;
};

/** @internal */
export const ObjectT$outboundSchema: z.ZodType<
  ObjectT$Outbound,
  z.ZodTypeDef,
  ObjectT
> = z.object({
  id: z.string(),
  type: String$outboundSchema,
});

export function objectToJSON(objectT: ObjectT): string {
  return JSON.stringify(ObjectT$outboundSchema.parse(objectT));
}

/** @internal */
export const ImageType$outboundSchema: z.ZodNativeEnum<typeof ImageType> = z
  .nativeEnum(ImageType);

/** @internal */
export const CreateImageToVideoGenerationString$outboundSchema: z.ZodNativeEnum<
  typeof CreateImageToVideoGenerationString
> = z.nativeEnum(CreateImageToVideoGenerationString);

/** @internal */
export const CreateImageToVideoGenerationMotionString$outboundSchema:
  z.ZodNativeEnum<typeof CreateImageToVideoGenerationMotionString> = z
    .nativeEnum(CreateImageToVideoGenerationMotionString);

/** @internal */
export type CreateImageToVideoGenerationRequestBody$Outbound = {
  duration?: number | null | undefined;
  elements?: Array<shared.ElementInput$Outbound> | null | undefined;
  endFrameImage?: ObjectT$Outbound | null | undefined;
  frameInterpolation?: boolean | null | undefined;
  height?: number | null | undefined;
  imageId: string;
  imageType: string;
  isPublic?: boolean | null | undefined;
  model: string | null;
  negativePrompt?: string | null | undefined;
  prompt: string;
  promptEnhance?: boolean | null | undefined;
  promptEnhanceInstruction?: string | null | undefined;
  resolution?: string | null | undefined;
  seed?: number | null | undefined;
  styleIds?: Array<string> | null | undefined;
  width?: number | null | undefined;
};

/** @internal */
export const CreateImageToVideoGenerationRequestBody$outboundSchema: z.ZodType<
  CreateImageToVideoGenerationRequestBody$Outbound,
  z.ZodTypeDef,
  CreateImageToVideoGenerationRequestBody
> = z.object({
  duration: z.nullable(z.number().int()).optional(),
  elements: z.nullable(z.array(shared.ElementInput$outboundSchema)).optional(),
  endFrameImage: z.nullable(z.lazy(() => ObjectT$outboundSchema)).optional(),
  frameInterpolation: z.nullable(z.boolean()).optional(),
  height: z.nullable(z.number().int()).optional(),
  imageId: z.string(),
  imageType: ImageType$outboundSchema,
  isPublic: z.nullable(z.boolean()).optional(),
  model: z.nullable(
    CreateImageToVideoGenerationString$outboundSchema.default(
      CreateImageToVideoGenerationString.Motion2,
    ),
  ),
  negativePrompt: z.nullable(z.string()).optional(),
  prompt: z.string(),
  promptEnhance: z.nullable(z.boolean()).optional(),
  promptEnhanceInstruction: z.nullable(z.string()).optional(),
  resolution: z.nullable(
    CreateImageToVideoGenerationMotionString$outboundSchema,
  ).optional(),
  seed: z.nullable(z.number().int()).optional(),
  styleIds: z.nullable(z.array(z.string())).optional(),
  width: z.nullable(z.number().int()).optional(),
});

export function createImageToVideoGenerationRequestBodyToJSON(
  createImageToVideoGenerationRequestBody:
    CreateImageToVideoGenerationRequestBody,
): string {
  return JSON.stringify(
    CreateImageToVideoGenerationRequestBody$outboundSchema.parse(
      createImageToVideoGenerationRequestBody,
    ),
  );
}

/** @internal */
export const MotionVideoGenerationOutput$inboundSchema: z.ZodType<
  MotionVideoGenerationOutput,
  z.ZodTypeDef,
  unknown
> = z.object({
  apiCreditCost: z.nullable(z.number().int()).optional(),
  generationId: z.string().optional(),
});

export function motionVideoGenerationOutputFromJSON(
  jsonString: string,
): SafeParseResult<MotionVideoGenerationOutput, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => MotionVideoGenerationOutput$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'MotionVideoGenerationOutput' from JSON`,
  );
}

/** @internal */
export const CreateImageToVideoGenerationResponseBody$inboundSchema: z.ZodType<
  CreateImageToVideoGenerationResponseBody,
  z.ZodTypeDef,
  unknown
> = z.object({
  motionVideoGenerationJob: z.nullable(
    z.lazy(() => MotionVideoGenerationOutput$inboundSchema),
  ).optional(),
});

export function createImageToVideoGenerationResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<
  CreateImageToVideoGenerationResponseBody,
  SDKValidationError
> {
  return safeParse(
    jsonString,
    (x) =>
      CreateImageToVideoGenerationResponseBody$inboundSchema.parse(
        JSON.parse(x),
      ),
    `Failed to parse 'CreateImageToVideoGenerationResponseBody' from JSON`,
  );
}

/** @internal */
export const CreateImageToVideoGenerationResponse$inboundSchema: z.ZodType<
  CreateImageToVideoGenerationResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  ContentType: z.string(),
  StatusCode: z.number().int(),
  RawResponse: z.instanceof(Response),
  object: z.lazy(() => CreateImageToVideoGenerationResponseBody$inboundSchema)
    .optional(),
}).transform((v) => {
  return remap$(v, {
    "ContentType": "contentType",
    "StatusCode": "statusCode",
    "RawResponse": "rawResponse",
  });
});

export function createImageToVideoGenerationResponseFromJSON(
  jsonString: string,
): SafeParseResult<CreateImageToVideoGenerationResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      CreateImageToVideoGenerationResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'CreateImageToVideoGenerationResponse' from JSON`,
  );
}
